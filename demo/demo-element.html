<link rel="import" href="../../polymer/polymer-element.html">
<link rel="import" href="../wind-direction-indicator.html">
<link rel="import" href="../../paper-button/paper-button.html">

<dom-module id="demo-element">
  <template>
  <style>
    :host {
      display: block;
    }
  </style>
    <wind-direction-indicator direction="{{degrees}}" speed="{{speed}}" gust="{{gust}}"></wind-direction-indicator>
    <div>Wind Direction:
      <paper-button on-tap="tapDecreaseDegrees" raised>Decrease</paper-button>
      <span>{{_decimalFormat(degrees)}}</span>
      <paper-button on-tap="tapIncreaseDegrees" raised>increase</paper-button>
    </div>
    <div>Wind Speed:
      <paper-button on-tap="tapDecreaseSpeed" raised>Decrease</paper-button>
      <span>{{_decimalFormat(speed)}}</span>
      <paper-button on-tap="tapIncreaseSpeed" raised>increase</paper-button>
    </div>

    <div>Wind Gust:
      <paper-button on-tap="tapDecreaseGust" raised>Decrease</paper-button>
      <span>{{_decimalFormat(gust)}}</span>
      <paper-button on-tap="tapIncreaseGust" raised>increase</paper-button>
    </div>

  </template>
  <script>
    class DemoElement extends Polymer.Element{
      static get is(){ return 'demo-element';}
      constructor(){
        super();
        this.degrees = 0;
        this.speed=20.30;
        this.gust = 22.4;

      }

      tapDecreaseDegrees(){
        this.degrees -= (Math.random() * 10.0);
        if(this.degrees <= 0){
          this.degrees = 360 - (Math.random() * 10.0);;
        }
      }

      tapIncreaseDegrees(){
        this.degrees += (Math.random() * 10.0);
        if(this.degrees > 360){
          this.degrees = (Math.random() * 10.0);
        }
      }

      tapDecreaseSpeed(){
        if(this.speed > 0){
          this.speed -= 0.10;
        }

      }

      tapIncreaseSpeed(){
        this.speed += 0.10
      }

      tapDecreaseGust(){
        if(this.gust > 0){
          this.gust -= 0.10;
        }

      }

      tapIncreaseGust(){
        this.gust += 0.10
      }

      _decimalFormat(value){
          return value.toFixed(2);
      }

    }
    customElements.define(DemoElement.is, DemoElement);
  </script>
</dom-module>
